<!DOCTYPE html>
<html lang="en" style="scrollbar-width: none !important;">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
    <title></title>
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
        <script src="https://telegram.org/js/telegram-web-app.js"></script>
        <script type="text/javascript">
            
            window.Telegram.WebApp.ready(); window.Telegram.WebApp.expand();
        </script>
    <script src="js/qrcode.js"></script>

    <script src="js/qrcode.min.js"></script>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: Arial, sans-serif;
        }

        /* Container for the page content */
        .content {
            height: calc(100% - 60px); /* Adjusting height for the app bar */
        }

        /* Content sections */
        .page {
            display: none;
            padding: 20px;
        }

        .active {
            display: block;

        }

        /* Fixed app bar at the bottom */
        .app-bar {
position: fixed;
    bottom: 0;
    width: 100%;
    height: 70px;
    background: url(assets/img/bottombanner.png);
    display: flex;
    justify-content: space-around;
    align-items: center;
    color: white;
    background-size: 100% 100%;
        }

        .app-bar button {
background-color: transparent;
    border: none;
    color: #d6d5da;
    font-size: 14px;
    cursor: pointer;
    outline: none;
    display: flex;
    flex-direction: column;
    align-items: center;
    font-weight: bold;
    font-family: sans-serif;
        }

        .app-bar button i {
            font-size: 20px;
            margin-bottom: 3px;
        }

        .app-bar button:hover {
            color: #d6d5da;
        }

        /* Styles for the canvas loader */
        #SD-loadscrn {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #fff;
            z-index: 9999;
        }

        #SD-loadtext {
            position: absolute;
            font-family: sans-serif;
            top: 50%;
            left: 50%;
            width: 250px;
            margin-left: -125px;
            margin-top: -125px;
            text-align: center;
            line-height: 150%;
            font-size: 16px;
        }
#viewporter {
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
    max-height: calc(100vh - 60px);
        }

canvas {
width: 100%;
    height: 100%;
display: block;
    max-height: calc(100vh - 60px);
}




                #referral-stats {
 display: flex;
    justify-content: space-between;
    background-color: #bf5d05;
    border: 1px solid #a24e03;
    padding: 13px;
    border-radius: 10px;
        }
        .stat {
            display: flex;
            align-items: center;
            flex: 1;
        }
        .stat-icon {
            margin-right: 10px;
            font-size: 20px; /* Adjust icon size */
            color: #ffffff; /* Icon color */
        }
        .stat-text {
            font-weight: bold;
        }
        #referral-link-section {
    background-color: rgba(46, 44, 55, 0.95);
    border: 1px solid #1e1d22;
    padding: 0px;
    text-align: left;
    margin-top: 10px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding-left: 0px;
        }
        .copy-button {
background-color: #111013;
    color: white;
    border: none;
    padding: 15px;
    cursor: pointer;
    border-radius: 10px;
    display: flex;
    align-items: center;
    font-size: 15px;
    border-top-right-radius: 0px !important;
    border-top-left-radius: 0px !important;
    border-bottom-left-radius: 0px !important;
        }
        .copy-button:hover {
            background-color: #111013;
        }
        .referral-link {
            flex-grow: 1;
            margin-right: 10px;
            font-weight: bold;
            color: #ffffff;
            white-space: nowrap; /* Prevent line break */
            overflow: hidden; /* Hide overflow */
            text-overflow: ellipsis; /* Add ellipsis */
        }
        .stat-icon {
            margin-right: 5px;
        }
        /* Popup styles */
.popup {
    position: fixed;
    top: 50%; /* Center vertically */
    left: 50%; /* Center horizontally */
    transform: translate(-50%, -50%); /* Offset by half the width and height */
background-color: #000000;
    color: #fff;
    padding: 10px 20px;
    border-radius: 5px;
    display: none;
    z-index: 1000;
    text-align: center;
    opacity: 0.7;
}

   #user-rank {
    background-color: #fff;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    padding: 15px;
    display: flex;
    align-items: center;
    width: 100%;
    max-width: 100%; /* Ensures the max-width does not exceed the parent container */
    margin: 20px auto;
    box-sizing: border-box; /* Ensures padding is included in the width calculation */
    overflow: hidden; /* Prevents overflow of content */
}

        .user-info img {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            margin-right: 15px;
            border: 2px solid #ddd;
        }

        .user-details {
            display: flex;
            flex-direction: column;
            margin-right:15px;
        }

        .username {
            font-size: 18px;
            font-weight: bold;
            color: white;
        }

        .rank-info {
            font-size: 14px;
            color: #666;
            margin-top: 4px;
        }
        tr {
        
        display: flex;
    justify-content: space-between;
    padding: 10px;
    border-bottom: 1px solid rgb(74, 72, 85);
    padding-left: 10px !important;
    padding-right: 10px !important;    
        }

                td { 
                    font-weight: bold;
        }
    </style>
</head>
<body>

    <!-- Content Container -->
    <div class="content">
        <!-- Home Page with only the canvas -->
        <div id="page1" class="page active" style=" padding: 0px; height: 100% !important;">
            <!-- Canvas screen code -->
            <script type="text/javascript">
                window.gameLangs = ['en'];
                window.gameJS = ['js/game.js'];
                window.gameOnLoadScript = "init();";
            </script>
            <script type="text/javascript" src="js/script.js"></script>
            <script type="text/javascript" src="js/hooks.js"></script>
            <script type="text/javascript" src="js/ads.js"></script>

            <div id="viewporter">
                <canvas id="canvas" width="700" height="900" style=""></canvas>
            </div>

            <!-- Loader styles already in the <head> -->
        </div>


<div id="page3" class="page" style="background: rgba(46, 44, 55, 0.7);color: #ffffff; padding: 20px; border-radius: 0px; width: auto; margin: 0 auto; box-shadow: 0 0 20px rgba(0, 0, 0, 0.2); height: calc(100vh - 100px); overflow-y: auto;">

    <div id="referral-stats" style="display: flex; justify-content: space-between; padding: 10px 15px; margin-top: 0; margin-bottom: 0px; border-radius: 10px; background: #1e1d22; color: white !important; border: 1px solid #101013;">
        <div class="stat" style="justify-content: space-evenly;flex: 1; text-align: left; font-weight: bold; border-right: 1px solid #4a4855; padding-right: 10px;">
            <img src="assets/img/friends.png" style="height: 15px; padding-right: 0px;">
            Referrals: <span id="referrals-count">0</span>
        </div>
        <div class="stat" style="justify-content: space-evenly;padding-left: 15px;flex: 1; text-align: center; font-weight: bold;">
            <img src="assets/img/littlediamond.png" style="height: 15px; padding-right: 0px;">
            Earned: <span id="points-earned">0</span>
        </div>
    </div>

    <h3 style="text-align: center; color: #402104; margin: 20px 0;"></h3>

    <div id="example-users" style="margin-bottom: 20px;background-color: rgba(46, 44, 55, 0.95); padding: 0px; border-radius: 10px;">
        <div class="invite-header" style="border: none !important;background: #1e1d22;padding: 10px 15px;display: flex;justify-content: space-between;border-top-left-radius: 10px;border-top-right-radius: 10px;">
            <span style="flex: 2; text-align: left; font-weight: bold;">Name</span>
            <span style="flex: 1; text-align: center; font-weight: bold;">Level</span>
            <span style="flex: 1; text-align: right; font-weight: bold;">Earned</span>
        </div>
        <ul id="referral-list" style="scrollbar-width: none;list-style: none;padding: 0;margin: 0;max-height: 14vh;overflow-y: auto;padding-left: 5px;padding-right: 5px;">
            <!-- List to display referrals or "No Referrals Available" message -->
        </ul>
    </div>

    <h3 style="text-align: center;margin-top: 10px;color: #ffffff;font-size: 17px;font-weight: 600;background: #1e1d22;padding-top: 10px;border-top-left-radius: 10px;border-top-right-radius: 10px;border-top: 1px solid #101013;border-left: 1px solid #101013;border-right: 1px solid #101013;padding-bottom: 14px;margin-bottom: 0px;">Your Invite Link:</h3>
    <div id="referral-link-section" style="border-radius: 10px;text-align: center;margin-top: 0px;border-top-right-radius: 0px !important;border-top-left-radius: 0px !important;">
        <div class="referral-link" id="referral-link" style="padding-left: 0px !important;padding: 10px;border-radius: 10px;margin: 0 auto;display: inline-block;max-width: 80%;border-top-left-radius: 0px !important;padding-left: 15px !important;">
            Loading your referral link...
        </div>
        <button class="copy-button" onclick="copyLink()">
            <i class="fas fa-copy"></i>
        </button>
        <div id="copy-popup" class="popup" style="display: none; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgb(30, 29, 34); color: white; padding: 10px; border-radius: 5px;">
            Referral link copied to clipboard!
        </div>
    </div>

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script>
document.addEventListener("DOMContentLoaded", async function() {
    const userId = Telegram.WebApp.initDataUnsafe.user.id;

    // Fetch user referral data from the API
    async function fetchReferralData(userId) {
        try {
            const response = await fetch(`https://5d4d5bcc-e6a0-47da-9f5a-9dd61a0282fb-00-3ulqtxjt3k7ap.worf.replit.dev/api/user/referrals/${userId}`);
            if (!response.ok) throw new Error("Error fetching data");

            const userData = await response.json();
            document.getElementById("referrals-count").textContent = userData.totalReferrals || 0;
            document.getElementById("points-earned").textContent = userData.totalPoints || 0;

            const referralList = document.getElementById("referral-list");

            if (userData.referrals.length === 0) {
                // Display "No Referrals Available" message
                const noReferralsMessage = document.createElement("li");
                noReferralsMessage.textContent = "No Referrals Available";
                noReferralsMessage.style.textAlign = "center";
                noReferralsMessage.style.padding = "10px";
                referralList.appendChild(noReferralsMessage);
            } else {
                // Display referral details in table
                userData.referrals.forEach(referral => {
                    const listItem = document.createElement("tr");

                    const usernameCell = document.createElement("td");
                    const levelCell = document.createElement("td");
                    const pointsCell = document.createElement("td");

                    usernameCell.textContent = referral.username;
                    levelCell.textContent = getReferralLevel(referral.totalReferrals);
                    pointsCell.textContent = referral.totalPoints;

                    listItem.appendChild(usernameCell);
                    listItem.appendChild(levelCell);
                    listItem.appendChild(pointsCell);

                    referralList.appendChild(listItem);
                });
            }

        } catch (error) {
            console.error("Failed to fetch referral data:", error);
        }
    }

    await fetchReferralData(userId);
});

// Function to get the referral level
function getReferralLevel(totalReferrals) {
    if (totalReferrals >= 50) return 6;
    if (totalReferrals >= 20) return 5;
    if (totalReferrals >= 15) return 4;
    if (totalReferrals >= 10) return 3;
    if (totalReferrals >= 3) return 2;
    return 1; // Level 1 for 0 to 2 referrals
}


// Copy function for the referral link
function copyLink() {
    const referralLink = document.getElementById('referral-link').textContent;
    navigator.clipboard.writeText(referralLink).then(() => {
        const popup = document.getElementById('copy-popup');
        popup.style.display = 'block';
        setTimeout(() => {
            popup.style.display = 'none';
        }, 2000);
    }).catch(err => console.error('Could not copy text: ', err));
}
</script>
</div>







 <div id="page4" class="page">
    <div id="earning-stats">
        <div class="stat">
            <img src="assets/img/littlediamond.png" style="height: 15px;">
            Earned: <span id="points-earned">0</span>
        </div>
    </div>

    <ul id="tasks-list">
        <li id="daily-checkin" onclick="dailyCheckin()">
            <span>Daily check-in</span>
            <span><img src="assets/img/littlediamond.png" style="height: 15px;"> +100</span>
        </li>
    </ul>

    <script>
async function dailyCheckIn() {
    const userId = "229351215"; // Ensure this matches the format in your database

    const response = await fetch("https://5d4d5bcc-e6a0-47da-9f5a-9dd61a0282fb-00-3ulqtxjt3k7ap.worf.replit.dev/api/user/dailycheckin", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({ userId })
    });

    const data = await response.json();
    if (response.ok) {
        alert(data.message);
    } else {
        alert(`Daily check-in failed: ${data.error}`);
    }
}

    </script>
</div>



       
    <div id="page2" class="page" style="background: rgba(46, 44, 55, 0.7);color: #ffffff; padding: 20px; border-radius: 0px; width: auto; margin: 0 auto; box-shadow: 0 0 20px rgba(0, 0, 0, 0.2); height: calc(100vh - 70px); overflow-y: auto;  padding-top: 7px !important;">

    <!-- Current User Rank -->
    <div id="user-rank" class="user-info" style="width: auto !important; background: #1e1d22; color: white !important; border: 1px solid #101013;">
        <!-- User Profile Picture and Username will be inserted here -->
    </div>

    <!-- Leaderboard Container -->
    <div id="leaderboard-container" style="border-radius: 10px;background-color: rgba(46, 44, 55, 0.95); padding: 0; max-height: 60vh; overflow: hidden;">
        <div class="leaderboard-header" style="border-top-left-radius: 10px;
    border-top-right-radius: 10px;padding-top: 10px !important;padding-bottom: 30px !important;background: #1e1d22; padding: 15px; position: sticky; top: 0; z-index: 10;">
            <span style="float: left;font-weight: bold;">Players Name</span>
            <span style="float: right;font-weight: bold;">Points Earned</span>
        </div>
        <ul id="leaderboard-list" style="padding-left: 10px !important; padding-right: 10px !important;scrollbar-width: none;list-style: none; padding: 0; margin: 0; max-height: 50vh; overflow-y: auto;">
            <!-- Leaderboard items will be added here -->
        </ul>
    </div>

   <script>
    document.addEventListener('DOMContentLoaded', generateLeaderboard);

    function generateLeaderboard() {
        const leaderboardList = document.getElementById('leaderboard-list');
        const colors = ['#F28B82', '#FBBC05', '#34A853', '#4285F4', '#A142F4', '#FF6D01', '#46BD8B', '#FFBF00', '#FF4500', '#9932CC'];
        const usernames = ['ShadowMaster', 'PixelKnight', 'CryptoWiz', 'StellarBlaze', 'DrakeKing', 'ZaraStorm'];
        const userCount = 1000;
        const maxPoints = 1940;
        const minPoints = 120;
        const pointsStep = 2;

        let currentPoints = maxPoints;

        // Telegram API Integration
        Telegram.WebApp.ready();
        const user = Telegram.WebApp.initDataUnsafe.user;
        let telegramUserRank, telegramUserPoints;

        if (user) {
            // Generate the Telegram user's rank and points
            telegramUserRank = Math.floor(Math.random() * 1000) + 1;
            telegramUserPoints = currentPoints - (telegramUserRank * pointsStep);

            // Display Telegram user in the Current User Rank section
            const userRankElement = document.getElementById('user-rank');
            if (userRankElement) {
                userRankElement.innerHTML = `
                    <div style="display: flex; align-items: center; justify-content: space-between; width: 100%; color: white;">
                        <div style="display: flex; align-items: center;">
                            <div style="width: 60px; height: 60px; border-radius: 50%; background-color: ${colors[telegramUserRank % colors.length]}; color: #ffffff; text-align: center; line-height: 60px; font-size: 24px;">
                                ${user.username ? user.username.charAt(0).toUpperCase() : 'U'}
                            </div>
                            <div style="margin-left: 10px;">
                                <span style="font-weight: bold;">${user.username || "User"}</span>
                                <span style="display: block; color: white;">Rank: #${telegramUserRank}</span>
                            </div>
                        </div>
<span style="color: white; margin-left: auto;">
  ${telegramUserPoints} <img src="assets/img/littlediamond.png" style="width: 19px; height:19px;border: none !important; margin-bottom:-4px;">
</span>
                    </div>
                `;
            }
        }

        // Generate and add random users to leaderboard
        for (let i = 1; i <= userCount; i++) {
            const isTelegramUserRank = user && i === telegramUserRank;
            const username = isTelegramUserRank ? (user.username || "User") : usernames[i % usernames.length];
            const points = isTelegramUserRank ? telegramUserPoints : (currentPoints > minPoints ? currentPoints : minPoints);
            const color = colors[i % colors.length];

            // Add Telegram user at their rank position; continue with random users otherwise
            addLeaderboardEntry(username, points, i, color);

            if (!isTelegramUserRank) {
                currentPoints -= pointsStep;
            }
        }

        function addLeaderboardEntry(username, points, rank, color) {
            const listItem = document.createElement('li');
            listItem.style.display = 'flex';
            listItem.style.alignItems = 'center';
            listItem.style.padding = '10px';
            listItem.style.borderBottom = '1px solid #4a4855';

            const profilePicture = document.createElement('div');
            profilePicture.style.width = '30px';
            profilePicture.style.height = '30px';
            profilePicture.style.borderRadius = '50%';
            profilePicture.style.backgroundColor = color;
            profilePicture.style.color = '#ffffff';
            profilePicture.style.display = 'flex';
            profilePicture.style.justifyContent = 'center';
            profilePicture.style.alignItems = 'center';
            profilePicture.innerText = username.charAt(0).toUpperCase();
            profilePicture.style.marginRight = '10px';

            const usernameContainer = document.createElement('div');
            usernameContainer.style.display = 'flex';
            usernameContainer.style.flexDirection = 'column';

            const usernameSpan = document.createElement('span');
            usernameSpan.innerText = username;
            usernameSpan.style.fontSize = '15px';
            usernameSpan.style.fontWeight = 'bold';

            const rankSpan = document.createElement('span');
            rankSpan.innerText = `Rank: #${rank}`;
            rankSpan.style.fontSize = '13px';
            rankSpan.style.color = 'white';
            rankSpan.style.marginTop = '4px';

            usernameContainer.appendChild(usernameSpan);
            usernameContainer.appendChild(rankSpan);

            const pointsSpan = document.createElement('span');
// Assuming `pointsSpan` is your element for displaying points and currency
pointsSpan.innerHTML = `${points} <img src="assets/img/littlediamond.png" style="height: 15px;">`;
pointsSpan.style.color = 'white';
pointsSpan.style.marginLeft = 'auto';


            listItem.appendChild(profilePicture);
            listItem.appendChild(usernameContainer);
            listItem.appendChild(pointsSpan);

            leaderboardList.appendChild(listItem);
        }
    }
</script>



</div>


<div id="page5" class="page" style="background: rgba(46, 44, 55, 0.7);color: #ffffff;padding: 20px;border-radius: 0px;width: auto;margin: 0 auto;box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);height: 100%;overflow-y: auto;padding-top: 5px !important;">
    <h2 style="text-align: center; color: white; font-size: 28px; margin-top: 0; font-family: system-ui;margin-bottom: 0px;">SEEDSALE</h2>
    <p style="text-align: center; color: white; margin-top: 0px;">Stage 1</p>

    <div style="text-align: center;">
        <div id="qrcode" style="margin: 20px auto; width: 228px; height: 228px; background-color: #ffffff; padding: 10px; border-radius: 10px;"></div>
        <p style="text-align: center;margin-top: 10px;color: #ffffff;font-size: 17px;font-weight: 600;background: #1e1d22;padding-top: 10px;border-top-left-radius: 10px;border-top-right-radius: 10px;border-top: 1px solid #101013;border-left: 1px solid #101013;border-right: 1px solid #101013;padding-bottom: 14px;">Send funds only to this wallet</p>
        
        <div style="display: flex;justify-content: center;align-items: center;gap: 0px;margin-top: -20px;background: rgba(46, 44, 55, 0.65);border-bottom-right-radius: 10px;border-bottom-left-radius: 10px;border-bottom: 1px solid #101013;border-left: 1px solid #101013;border-right: 1px solid #101013;">
            <p id="wallet-address" style="font-size: 16px;background-color: #ffffff;color: #1e2739;padding: 10px 15px;width: 230px;text-align: left;white-space: nowrap;overflow: hidden;display: inline-block;border-top-left-radius: 10px;border-bottom-left-radius: 10px;">
                <!-- Address will be dynamically updated -->
            </p>

            <button onclick="copyAddress()" style="background-color: #1e1d22;border: none;cursor: pointer;padding: 0;padding: 6px;border-top-right-radius: 10px;border-bottom-right-radius: 10px;">
                <img src="https://img.icons8.com/ios-glyphs/30/ffffff/copy.png" alt="Copy Icon" style="width: 24px; height: 24px;">
            </button>
        </div>
    </div>

    <div style="margin: 20px 0; text-align: center;">
        <p style="color: white;font-size: 16px;margin-top: -10px;font-weight: bold;background: rgba(46, 44, 55, 0.7);padding: 10px;border-radius: 10px;">
            <i class="fa fa-exclamation-triangle" aria-hidden="true" style="margin-right: 8px; vertical-align: middle;"></i>
            Minimum purchase is 10 TON. Any smaller transactions will be refunded.
        </p>
    </div>

    <div id="copy-popup" style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: rgba(0, 0, 0, 0.8); color: #ffffff; padding: 10px 20px; border-radius: 5px; font-size: 14px; display: none; z-index: 999;">
        Copied to clipboard!
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<script>
        let fullWalletAddress = ""; // Variable to store the full wallet address

        // Function to copy the wallet address
        function copyAddress() {
            navigator.clipboard.writeText(fullWalletAddress).then(() => {
                showCopyPopup(); // Show the popup message
                console.log("Address copied: " + fullWalletAddress); // Debugging
            }).catch(err => {
                console.error("Error copying address: ", err); // Error handling
            });
        }

        // Function to display the wallet address and QR code
        async function displayWallet() {
            try {
                const response = await fetch('https://html5-game-pi.vercel.app/api/getWalletAddress');
                if (!response.ok) {
                    throw new Error('Network response was not ok ' + response.statusText);
                }
                const data = await response.json();
                fullWalletAddress = data.walletAddress; // Store the full address
            } catch (error) {
                console.error("Error fetching wallet address:", error);
                document.getElementById("wallet-address").textContent = "Error fetching wallet address.";
                return;
            }

            console.log("Displayed Wallet Address: " + fullWalletAddress); // Debugging

            // Display the truncated wallet address
            const displayAddress = truncateAddress(fullWalletAddress);
            document.getElementById("wallet-address").textContent = displayAddress;

            // Generate QR code
            let qrElement = document.getElementById("qrcode");
            qrElement.innerHTML = "";  // Clear any previous QR code
            new QRCode(qrElement, {
                text: fullWalletAddress,
                width: 228,
                height: 228
            });
        }

        // Function to truncate the address for display
        function truncateAddress(address) {
            const start = address.slice(0, 10);
            const end = address.slice(-10);
            return `${start}...${end}`;
        }

        // Function to show the in-page popup message
        function showCopyPopup() {
            const popup = document.getElementById("copy-popup");
            popup.style.display = "block";

            // Hide the popup after 2 seconds
            setTimeout(() => {
                popup.style.display = "none";
            }, 2000);
        }

        // Call the display function on window load
        window.onload = displayWallet;
    </script>
    </div>




     
       

    <!-- Fixed App Bar -->
<div class="app-bar" >
     <button onclick="showPage('page1')">
            <i class="fas fa-gamepad"></i>
            Game
        </button>
        <button onclick="showPage('page2')">
            <i class="fas fa-trophy"></i>
            Rank
        </button>
        <button onclick="showPage('page3')">
            <i class="fas fa-users"></i>
            Invite
        </button>
        <button onclick="showPage('page4')">
            <i class="fas fa-tasks"></i>
            Tasks
        </button>
        <button onclick="showPage('page5')">
            <i class="fas fa-wallet"></i>
            Seed
        </button>
    </div>

    <script>
        function showPage(pageId) {
            // Hide all pages
            var pages = document.querySelectorAll('.page');
            pages.forEach(function(page) {
                page.classList.remove('active');
            });

            // Show the selected page
            document.getElementById(pageId).classList.add('active');
        }
    </script>



<script>



        function showPopup() {
            const popup = document.getElementById('copy-popup');
            popup.style.display = 'block'; // Show popup
            setTimeout(() => {
                popup.style.display = 'none'; // Hide after 3 seconds
            }, 3000);
        }



    // Update the user's rank and name
    const currentUserRank = Math.floor(Math.random() * 100) + 1; // Example rank
    const currentUserName = "UserExample"; // Example Telegram name

    document.querySelector('#user-rank span').innerText = `${user.username}`;
    document.querySelector('#user-rank span[style*="font-style"]').innerText = `${currentUserName}`;
</script>
<script type="text/javascript">
Telegram.WebApp.ready();

// Get the Telegram user data
const user = Telegram.WebApp.initDataUnsafe.user;

// Initialize the referral link
let referralLink = '';

if (user && user.id) {
    // Generate referral link using user ID
    referralLink = `https://t.me/degentown_bot?start=${user.id}`;
    document.getElementById('referral-link').textContent = referralLink;
} else {
    document.getElementById('referral-link').textContent = 'User data unavailable';
}

// Function to share to Telegram Story
function shareToTelegramStory() {
                    setTimeout(function() {
                    document.getElementById('share-approved').src = 'assets/img/approved.png';
                }, 2000);
    const storyText = "Join the Game Name Journey! Stay tuned for exciting airdrops and special rewards from Game Name!";
    const storyLink = referralLink || "https://example.com"; // Fallback in case referralLink is empty

    // Construct the story sharing link
    const storyUrl = `https://t.me/share/url?url=${encodeURIComponent(storyLink)}&text=${encodeURIComponent(storyText)}`;

    // Open the link in Telegram's story sharing
    Telegram.WebApp.openTelegramLink(storyUrl);
}</script>
</body>
</html>
